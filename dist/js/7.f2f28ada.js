webpackJsonp([7,9,10,18],{"74S6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Biqn"),s=n.n(i),a=n("NYxO"),o=n("mtWM"),l=n.n(o),c=n("o/zv"),r=n.n(c),u=n("gxAb"),d=n("h5gJ"),p=n("IuG4"),m=n("cIsK"),f={components:{"file-dialog":m["default"],"prediction-model":u["default"],"prediction-input-file":d["default"],"prediction-next":p["default"]},data:function(){return{models:{modelList:[],selectedModel:""},inputs:{inputFile:"",inputCols:[],outputCols:[],advEnabled:!1},extras:{submitted:!1},snackbar:{text:"",color:"",isOpen:!1},beConnected:!0,mlConnected:!0,snackbarIsOpen:!1,snackbarMsg:"",fileDialogIsOpen:!1,fileDialogMode:"csv"}},computed:s()({requestData:function(){return{data_file:{id:this.inputs.inputFile,path:this.inputs.inputFile,project_name:this.currentProject},input_columns:this.inputs.inputCols.map(function(t){return{column_index:t.index,column_type:"discrete"}})}},connectionErrorMsg:function(){return"".concat("Could not connect to\n        ".concat(this.beConnected?"":"backend","\n        ").concat(this.beConnected||this.mlConnected?"":" or ","\n        ").concat(this.mlConnected?"":"machine learning server").trim(),".")},jobSubmitted:function(){return this.extras.jobSubmitted}},Object(a["b"])({beEndpoint:function(t){return t.beEndpoint},mlEndpoint:function(t){return t.mlEndpoint},currentProject:function(t){return t.currentProject}})),created:function(){var t=this;l()({method:"get",baseURL:this.mlEndpoint,url:r.a.join("models",this.currentProject),responseType:"json"}).then(function(e){t.models.modelList=e.data.data}).catch(function(e){t.mlConnected=!1,setTimeout(function(){t.snackbar.text=t.connectionErrorMsg,t.snackbar.color="error",t.snackbar.isOpen=!0},0)})},methods:{requestPrediction:function(){var t=this;l()({method:"post",baseURL:this.mlEndpoint,url:r.a.join("models/prediction",this.currentProject,this.models.selectedModel),data:this.requestData}).then(function(e){t.snackbar.text="Prediction request successfully sent.",t.snackbar.color="success",t.snackbar.isOpen=!0}).catch(function(e){t.snackbar.text="Prediction request could not be sent.",t.snackbar.color="error",t.snackbar.isOpen=!0})},handleModelChange:function(t){this.models=t},handleInputChange:function(t){this.inputs=t},selectInputFile:function(t){this.inputs.inputFile=t,this.fileDialogIsOpen=!1}},watch:{beConnected:function(){this.snackbarMsg=this.connectionErrorMsg,this.snackbarIsOpen=!this.beConnected||!this.mlConnected},mlConnected:function(){this.snackbarMsg=this.connectionErrorMsg,this.snackbarIsOpen=!this.beConnected||!this.mlConnected}}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":"","grid-list-xs":"",id:"outer-container"}},[n("v-layout",{attrs:{row:""}},[n("v-container",{attrs:{fluid:"","grid-list-md":"",id:"inner-container"}},[n("v-layout",{attrs:{row:""}},[n("prediction-model",{attrs:{values:t.models},on:{change:t.handleModelChange,error:function(e){t.mlConnected=!1}}}),n("prediction-input-file",{attrs:{values:t.inputs},on:{fileDialog:function(e){t.fileDialogIsOpen=!0},change:t.handleInputChange,error:function(e){t.beConnected=!1}}}),n("prediction-next",{attrs:{values:t.extras},on:{submit:t.requestPrediction}})],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px",scrollable:""},model:{value:t.fileDialogIsOpen,callback:function(e){t.fileDialogIsOpen=e},expression:"fileDialogIsOpen"}},[n("file-dialog",{attrs:{initialPath:"/projects/"+this.currentProject+"/files",mode:t.fileDialogMode},on:{select:t.selectInputFile,close:function(e){t.fileDialogIsOpen=!1}}})],1),n("v-snackbar",{attrs:{timeout:3e3,color:t.snackbar.color},model:{value:t.snackbar.isOpen,callback:function(e){t.$set(t.snackbar,"isOpen",e)},expression:"snackbar.isOpen"}},[t._v("\n    "+t._s(t.snackbar.text)+"\n    "),n("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.snackbar.isOpen=!1}}},[t._v("Close")])],1)],1)},v=[],b=n("XyMi");function C(t){n("hj8l")}var _=!1,g=C,x="data-v-2a421f50",k=null,j=Object(b["a"])(f,h,v,_,g,x,k);e["default"]=j.exports},IuG4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{submitted:!1}}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"next-wrapper"}},[n("v-card",{attrs:{id:"next-card"}},[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline"},[t._v("Output")])])]),n("v-card-text",[n("div",[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.submitted=!0,t.$emit("submit")}}},[t._v("Predict")]),t.submitted?n("v-progress-circular",{attrs:{indeterminate:"",size:26,width:3,color:"primary"}}):t._e()],1),n("div",[n("v-btn",{attrs:{color:"normal",disabled:!t.submitted},on:{click:function(e){t.submitted=!1}}},[t._v("\n          Cancel\n        ")])],1)])],1)],1)},a=[],o=n("XyMi");function l(t){n("kqkA")}var c=!1,r=l,u="data-v-ca23e174",d=null,p=Object(o["a"])(i,s,a,c,r,u,d);e["default"]=p.exports},"U/WB":function(t,e){},gxAb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("eFvX"),s={mixins:[i["a"]],computed:{modelIds:function(){return 0===this.localValues.modelList.length?[]:this.localValues.modelList.map(function(t){return t.model_id})},selectedModel:function(){var t=this;return this.localValues.modelList?this.localValues.modelList.filter(function(e){return e.model_id===t.localValues.selectedModel})[0]:{}}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"input-flex"}},[n("v-card",{attrs:{id:"input-card"}},[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline",attrs:{id:"input-title"}},[t._v("Select model")])])]),n("v-card-text",[n("v-form",[n("v-select",{attrs:{label:"Select model",items:t.modelIds,autocomplete:"",color:"blue","max-height":"300"},model:{value:t.localValues.selected,callback:function(e){t.$set(t.localValues,"selected",e)},expression:"localValues.selected"}})],1),t.selectedModel?n("div",{attrs:{id:"model-details"}},[n("h3",{staticClass:"param-name"},[t._v("Job ID")]),n("p",{staticClass:"desc"},[t._v(t._s(t.selectedModel.job_id))]),n("h3",{staticClass:"param-name"},[t._v("Description")]),n("p",{staticClass:"desc"},[t._v(t._s(t.selectedModel.description))]),n("h3",{staticClass:"param-name"},[t._v("Status")]),n("p",{staticClass:"desc"},[t._v(t._s(t.selectedModel.status))]),n("h3",{staticClass:"param-name"},[t._v("Start time")]),n("p",{staticClass:"desc"},[t._v(t._s(t.selectedModel.start_time))]),n("h3",{staticClass:"param-name"},[t._v("Started by")]),n("p",{staticClass:"desc"},[t._v(t._s(t.selectedModel.started_by))])]):t._e()],1),n("v-card-actions")],1)],1)},o=[],l=n("XyMi");function c(t){n("U/WB")}var r=!1,u=c,d="data-v-2ce1961d",p=null,m=Object(l["a"])(s,a,o,r,u,d,p);e["default"]=m.exports},h5gJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("Y1S0");var i=n("Biqn"),s=n.n(i),a=n("NYxO"),o=n("mtWM"),l=n.n(o),c=n("o/zv"),r=n.n(c),u=n("eFvX"),d={props:["values"],mixins:[u["a"]],data:function(){return{inputColNames:[],cols:[]}},computed:s()({colNames:function(){return this.cols.map(function(t){return t.header})},inputFile:function(){return this.localValues?this.localValues.inputFile:""}},Object(a["b"])({beEndpoint:function(t){return t.beEndpoint},currentProject:function(t){return t.currentProject}})),watch:{inputColNames:function(){var t=this;this.localValues.inputCols=this.inputColNames.map(function(e){return{header:e,index:t.getColumnIndex(e)}})},inputFile:function(){this.getColumns()}},created:function(){this.getColumns()},methods:{getColumnIndex:function(t){return this.cols.filter(function(e){return e.header===t})[0].index},getColumns:function(){var t=this;this.localValues&&this.localValues.inputFile.endsWith(".csv")?(console.log("Sending request to".concat(this.beEndpoint,"/").concat(r.a.join("projects",this.currentProject,"files",this.localValues.inputFile))),l()({baseURL:this.beEndpoint,url:r.a.join("projects",this.currentProject,"files",this.localValues.inputFile),responseType:"json",params:{view:"meta"}}).then(function(e){t.cols=e.data.data.supported_views.tabular.columns.map(function(t,e){return s()({},t,{index:e})})}).catch(function(e){t.$emit("error"),console.log(e)})):console.log("Input path is not a CSV file")}}},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"input-flex"}},[n("v-card",{attrs:{id:"input-card"}},[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline",attrs:{id:"input-title"}},[t._v("Select input file")])])]),n("v-card-text",[n("v-form",[n("div",[n("v-text-field",{attrs:{name:"inputFile",label:"Input file",type:"text","append-icon":"create","append-icon-cb":function(){return t.$emit("fileDialog")}},model:{value:t.localValues.inputFile,callback:function(e){t.$set(t.localValues,"inputFile",e)},expression:"localValues.inputFile"}})],1),n("v-select",{attrs:{label:"Select Input Columns",items:t.colNames,multiple:"",autocomplete:"",chips:"","deletable-chips":"",clearable:"",color:"blue","max-height":"300"},model:{value:t.inputColNames,callback:function(e){t.inputColNames=e},expression:"inputColNames"}})],1)],1),n("v-card-actions")],1)],1)},m=[],f=n("XyMi");function h(t){n("yTJh")}var v=!1,b=h,C="data-v-cfa06938",_=null,g=Object(f["a"])(d,p,m,v,b,C,_);e["default"]=g.exports},hj8l:function(t,e){},kqkA:function(t,e){},yTJh:function(t,e){}});
//# sourceMappingURL=7.f2f28ada.js.map