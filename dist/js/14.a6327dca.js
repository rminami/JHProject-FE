webpackJsonp([14],{"9ONp":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l("Y1S0");var n=l("Biqn"),a=l.n(n),i=l("NYxO"),o=l("mtWM"),s=l.n(o),u=l("o/zv"),c=l.n(u),r=l("eFvX"),p={props:["values"],mixins:[r["a"]],data:function(){return{inputColNames:[],outputColNames:[],cols:[]}},computed:a()({colNames:function(){return this.cols.map(function(e){return e.header})},inputFile:function(){return this.localValues?this.localValues.inputFile:""}},Object(i["b"])({beEndpoint:function(e){return e.beEndpoint},currentProject:function(e){return e.currentProject}})),watch:{inputColNames:function(){var e=this;this.localValues.inputCols=this.inputColNames.map(function(t){return{header:t,index:e.getColumnIndex(t)}})},outputColNames:function(){var e=this;this.localValues.outputCols=this.outputColNames.map(function(t){return{header:t,index:e.getColumnIndex(t)}})},inputFile:function(){this.getColumns()}},created:function(){this.advEnabledAlias=this.advEnabled,this.getColumns()},methods:{getColumnIndex:function(e){return this.cols.filter(function(t){return t.header===e})[0].index},getColumns:function(){var e=this;this.localValues&&this.localValues.inputFile.endsWith(".csv")?(console.log("Sending request to ".concat(this.beEndpoint,"/").concat(c.a.join("projects",this.currentProject,"files",this.localValues.inputFile))),s()({baseURL:this.beEndpoint,url:c.a.join("projects",this.currentProject,"files",this.localValues.inputFile)+"/",responseType:"json",params:{view:"meta"}}).then(function(t){e.localValues.inputFileId=t.data.data.id,e.cols=t.data.data.supported_views.tabular.columns.map(function(e,t){return a()({},e,{index:t})})}).catch(function(t){e.$emit("error"),console.log(t)})):console.log("Input path is not a CSV file")}}},d=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"input-flex"}},[l("v-card",{attrs:{id:"input-card"}},[l("v-card-title",{attrs:{"primary-title":""}},[l("div",[l("h3",{staticClass:"headline",attrs:{id:"input-title"}},[e._v("Select input file")])])]),l("v-card-text",[l("v-form",[l("div",[l("v-text-field",{attrs:{name:"inputFile",label:"Input file",type:"text","append-icon":"create","append-icon-cb":function(){return e.$emit("fileDialog","csv")}},model:{value:e.localValues.inputFile,callback:function(t){e.$set(e.localValues,"inputFile",t)},expression:"localValues.inputFile"}})],1),l("v-select",{attrs:{label:"Select Input Columns",items:e.colNames,multiple:"",autocomplete:"",chips:"","deletable-chips":"",clearable:"",color:"blue","max-height":"300"},model:{value:e.inputColNames,callback:function(t){e.inputColNames=t},expression:"inputColNames"}}),l("v-select",{attrs:{label:"Select Output Columns",items:e.colNames,multiple:"",autocomplete:"",chips:"","deletable-chips":"",clearable:"",color:"blue","max-height":"300"},model:{value:e.outputColNames,callback:function(t){e.outputColNames=t},expression:"outputColNames"}}),l("div",{staticClass:"spacing"}),l("v-switch",{attrs:{label:"Enable advanced options?",color:"primary"},model:{value:e.localValues.advEnabled,callback:function(t){e.$set(e.localValues,"advEnabled",t)},expression:"localValues.advEnabled"}})],1)],1),l("v-card-actions")],1)],1)},m=[],h=l("XyMi");function f(e){l("ixUm")}var v=!1,b=f,C="data-v-78ba32e4",x=null,N=Object(h["a"])(p,d,m,v,b,C,x);t["default"]=N.exports},ixUm:function(e,t){}});
//# sourceMappingURL=14.a6327dca.js.map