{"version":3,"sources":["webpack:///src/components/prediction/PredictionInputFile.vue","webpack:///./src/components/prediction/PredictionInputFile.vue?bd7f","webpack:///./src/components/prediction/PredictionInputFile.vue"],"names":["PredictionInputFile","bindMixin","computed","objectSpread_default","header","inputFile","beEndpoint","currentProject","_this","this","colName","getColumns","index","_this2","localValues","then","res","columns","map","col","catch","err","render","_vm","_h","$createElement","_c","_self","attrs","id","primary-title","staticClass","_v","name","label","type","append-icon","append-icon-cb","$emit","model","value","callback","$$v","$set","expression","items","colNames","multiple","autocomplete","chips","deletable-chips","clearable","color","max-height","inputColNames","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__"],"mappings":"0MA+CAA,UAEA,kBACAC,EAAA,wDAOAC,SAAAC,mEAEAC,wEAMAC,UAFA,qDAMAC,gDAGAC,mDAEA,IAAAC,EAAAC,iFAEAC,yBAEAA,iCAGAC,uCAIAA,+GAIAC,6BAEA,IAAAC,EAAAJ,iJAKA,WAAAA,KAAAF,eAAA,QAAAE,KAAAK,YAEAT,+BAEAC,gFACAD,wBACA,oBAIA,UAPAU,KAAA,SAAAC,8CASAC,QAAAC,IAAA,SAAAC,EAAAP,oBACAA,cACAQ,MAAA,SAAAC,WAEA,qBACAA,kBApBA,mCC7FAC,EAAA,WAA0B,IAAAC,EAAAd,KAAae,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,gBAAmBH,EAAA,UAAeE,OAAOC,GAAA,gBAAmBH,EAAA,gBAAqBE,OAAOE,gBAAA,MAAoBJ,EAAA,OAAAA,EAAA,MAAqBK,YAAA,WAAAH,OAA8BC,GAAA,iBAAoBN,EAAAS,GAAA,2BAAAN,EAAA,eAAAA,EAAA,UAAAA,EAAA,OAAAA,EAAA,gBAAgGE,OAAOK,KAAA,YAAAC,MAAA,aAAAC,KAAA,OAAAC,cAAA,SAAAC,iBAAA,WAA2G,OAAAd,EAAAe,MAAA,gBAAmCC,OAAQC,MAAAjB,EAAAT,YAAA,UAAA2B,SAAA,SAAAC,GAA2DnB,EAAAoB,KAAApB,EAAAT,YAAA,YAAA4B,IAA4CE,WAAA,4BAAqC,GAAAlB,EAAA,YAAqBE,OAAOM,MAAA,uBAAAW,MAAAtB,EAAAuB,SAAAC,SAAA,GAAAC,aAAA,GAAAC,MAAA,GAAAC,kBAAA,GAAAC,UAAA,GAAAC,MAAA,OAAAC,aAAA,OAAqKd,OAAQC,MAAAjB,EAAA,cAAAkB,SAAA,SAAAC,GAAmDnB,EAAA+B,cAAAZ,GAAsBE,WAAA,oBAA6B,OAAAlB,EAAA,2BAC59B6B,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,kBAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACAhE,EACAsB,EACAiC,EACAI,EACAC,EACAC,EACAC,GAGAI,EAAA,WAAAH,EAAA","file":"js/9.7fd58058.js","sourcesContent":["<template>\n  <div id=\"input-flex\">\n    <v-card id=\"input-card\">\n      <v-card-title primary-title>\n        <div>\n          <h3 id=\"input-title\" class=\"headline\">Select input file</h3>\n        </div>\n      </v-card-title>\n      <v-card-text>\n        <v-form>\n          <div>\n            <v-text-field\n              name=\"inputFile\"\n              label=\"Input file\"\n              type=\"text\"\n              v-model=\"localValues.inputFile\"\n              append-icon=\"create\"\n              :append-icon-cb=\"() => $emit('fileDialog')\"\n            ></v-text-field>\n          </div>\n          <v-select\n            label=\"Select Input Columns\"\n            :items=\"colNames\"\n            v-model=\"inputColNames\"\n            multiple\n            autocomplete\n            chips\n            deletable-chips\n            clearable\n            color=\"blue\"\n            max-height=\"300\"\n          ></v-select>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport axios from 'axios'\nimport path from 'path'\n\nimport bindMixin from '@/mixins/bindMixin'\n\nexport default {\n  props: ['values'],\n  mixins: [bindMixin],\n  data() {\n    return {\n      inputColNames: [],\n      cols: []\n    }\n  },\n  computed: {\n    colNames() {\n      return this.cols.map(col => col.header)\n    },\n    inputFile() {\n      if (!this.localValues) {\n        return ''\n      }\n      return this.localValues.inputFile\n    },\n    // Put other stuff here\n    ...mapState({\n      beEndpoint: s => s.beEndpoint,\n      currentProject: s => s.currentProject\n    })\n  },\n  watch: {\n    inputColNames() {\n      this.localValues.inputCols = this.inputColNames.map(colName => ({\n        header: colName,\n        index: this.getColumnIndex(colName)\n      }))\n    },\n    inputFile() {\n      this.getColumns()\n    }\n  },\n  created() {\n    this.getColumns()\n  },\n  methods: {\n    getColumnIndex(colName) {\n      return this.cols.filter(col => col.header === colName)[0].index\n    },\n    getColumns() {\n      if (!this.localValues || !this.localValues.inputFile.endsWith('.csv')) {\n        console.log('Input path is not a CSV file')\n        return\n      }\n      console.log(`Sending request to${this.beEndpoint}/${path.join('projects',\n        this.currentProject, 'files', this.localValues.inputFile\n      )}`)\n      axios({\n        baseURL: this.beEndpoint,\n        url: path.join('projects', this.currentProject, 'files', this.localValues.inputFile),\n        responseType: 'json',\n        params: {\n          view: 'meta'\n        }\n      })\n      .then(res => {\n        this.cols = res.data.data.supported_views.tabular.columns\n        .map((col, index) => ({ ...col, index }))\n      })\n      .catch(err => {\n        this.$emit('error')\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n\n#input-flex\n  width: 328px\n  padding: 4px 4px 4px 4px\n\n#input-card\n  width: 320px\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/prediction/PredictionInputFile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"input-flex\"}},[_c('v-card',{attrs:{\"id\":\"input-card\"}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('h3',{staticClass:\"headline\",attrs:{\"id\":\"input-title\"}},[_vm._v(\"Select input file\")])])]),_c('v-card-text',[_c('v-form',[_c('div',[_c('v-text-field',{attrs:{\"name\":\"inputFile\",\"label\":\"Input file\",\"type\":\"text\",\"append-icon\":\"create\",\"append-icon-cb\":function () { return _vm.$emit('fileDialog'); }},model:{value:(_vm.localValues.inputFile),callback:function ($$v) {_vm.$set(_vm.localValues, \"inputFile\", $$v)},expression:\"localValues.inputFile\"}})],1),_c('v-select',{attrs:{\"label\":\"Select Input Columns\",\"items\":_vm.colNames,\"multiple\":\"\",\"autocomplete\":\"\",\"chips\":\"\",\"deletable-chips\":\"\",\"clearable\":\"\",\"color\":\"blue\",\"max-height\":\"300\"},model:{value:(_vm.inputColNames),callback:function ($$v) {_vm.inputColNames=$$v},expression:\"inputColNames\"}})],1)],1),_c('v-card-actions')],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cfa06938\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/prediction/PredictionInputFile.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cfa06938\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PredictionInputFile.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/ryosuke/Documents/JHProject/JHProject-FE/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PredictionInputFile.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/ryosuke/Documents/JHProject/JHProject-FE/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PredictionInputFile.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cfa06938\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PredictionInputFile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cfa06938\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/prediction/PredictionInputFile.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}