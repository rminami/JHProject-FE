{"version":3,"sources":["webpack:///src/components/ml/InputFilePanel.vue","webpack:///./src/components/ml/InputFilePanel.vue?69c4","webpack:///./src/components/ml/InputFilePanel.vue"],"names":["InputFilePanel","bindMixin","computed","objectSpread_default","header","inputFile","beEndpoint","currentProject","_this","this","colName","_this2","getColumns","advEnabled","index","_this3","then","res","id","columns","map","col","catch","err","render","_vm","_h","$createElement","_c","_self","attrs","primary-title","staticClass","_v","name","label","type","append-icon","append-icon-cb","$emit","model","value","localValues","callback","$$v","$set","expression","items","colNames","multiple","autocomplete","chips","deletable-chips","clearable","color","max-height","inputColNames","outputColNames","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__"],"mappings":"6MAiEAA,UAEA,kBACAC,EAAA,0EAQAC,SAAAC,mEAEAC,wEAMAC,UAFA,qDAMAC,gDAGAC,mDAEA,IAAAC,EAAAC,iFAEAC,yBAEAA,iCAEA,IAAAC,EAAAF,mFAEAC,yBAEAA,iCAGAE,4DAIAC,gBACAD,+GAIAE,6BAEA,IAAAC,EAAAN,0MAKAJ,+BAEAC,2FACA,iBACA,oBAIA,UAPAU,KAAA,SAAAC,yCASAC,8CACAC,QAAAC,IAAA,SAAAC,EAAAP,oBACAA,cACAQ,MAAA,SAAAC,WAEA,qBACAA,kBAnBA,mCCvHAC,EAAA,WAA0B,IAAAC,EAAAhB,KAAaiB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOZ,GAAA,gBAAmBU,EAAA,UAAeE,OAAOZ,GAAA,gBAAmBU,EAAA,gBAAqBE,OAAOC,gBAAA,MAAoBH,EAAA,OAAAA,EAAA,MAAqBI,YAAA,WAAAF,OAA8BZ,GAAA,iBAAoBO,EAAAQ,GAAA,2BAAAL,EAAA,eAAAA,EAAA,UAAAA,EAAA,OAAAA,EAAA,gBAAgGE,OAAOI,KAAA,YAAAC,MAAA,aAAAC,KAAA,OAAAC,cAAA,SAAAC,iBAAA,WAA2G,OAAAb,EAAAc,MAAA,sBAA0CC,OAAQC,MAAAhB,EAAAiB,YAAA,UAAAC,SAAA,SAAAC,GAA2DnB,EAAAoB,KAAApB,EAAAiB,YAAA,YAAAE,IAA4CE,WAAA,4BAAqC,GAAAlB,EAAA,YAAqBE,OAAOK,MAAA,uBAAAY,MAAAtB,EAAAuB,SAAAC,SAAA,GAAAC,aAAA,GAAAC,MAAA,GAAAC,kBAAA,GAAAC,UAAA,GAAAC,MAAA,OAAAC,aAAA,OAAqKf,OAAQC,MAAAhB,EAAA,cAAAkB,SAAA,SAAAC,GAAmDnB,EAAA+B,cAAAZ,GAAsBE,WAAA,mBAA6BlB,EAAA,YAAiBE,OAAOK,MAAA,wBAAAY,MAAAtB,EAAAuB,SAAAC,SAAA,GAAAC,aAAA,GAAAC,MAAA,GAAAC,kBAAA,GAAAC,UAAA,GAAAC,MAAA,OAAAC,aAAA,OAAsKf,OAAQC,MAAAhB,EAAA,eAAAkB,SAAA,SAAAC,GAAoDnB,EAAAgC,eAAAb,GAAuBE,WAAA,oBAA8BlB,EAAA,OAAYI,YAAA,YAAsBJ,EAAA,YAAiBE,OAAOK,MAAA,2BAAAmB,MAAA,WAAqDd,OAAQC,MAAAhB,EAAAiB,YAAA,WAAAC,SAAA,SAAAC,GAA4DnB,EAAAoB,KAAApB,EAAAiB,YAAA,aAAAE,IAA6CE,WAAA,6BAAsC,OAAAlB,EAAA,2BACxhD8B,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,kBAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACAnE,EACAwB,EACAkC,EACAI,EACAC,EACAC,EACAC,GAGAI,EAAA,WAAAH,EAAA","file":"js/14.a6327dca.js","sourcesContent":["<template>\n  <div id=\"input-flex\">\n    <v-card id=\"input-card\">\n      <v-card-title primary-title>\n        <div>\n          <h3 id=\"input-title\" class=\"headline\">Select input file</h3>\n        </div>\n      </v-card-title>\n      <v-card-text>\n        <v-form>\n          <div>\n            <v-text-field\n              name=\"inputFile\"\n              label=\"Input file\"\n              type=\"text\"\n              v-model=\"localValues.inputFile\"\n              append-icon=\"create\"\n              :append-icon-cb=\"() => $emit('fileDialog', 'csv')\"\n            ></v-text-field>\n          </div>\n          <v-select\n            label=\"Select Input Columns\"\n            :items=\"colNames\"\n            v-model=\"inputColNames\"\n            multiple\n            autocomplete\n            chips\n            deletable-chips\n            clearable\n            color=\"blue\"\n            max-height=\"300\"\n          ></v-select>\n          <v-select\n            label=\"Select Output Columns\"\n            :items=\"colNames\"\n            v-model=\"outputColNames\"\n            multiple\n            autocomplete\n            chips\n            deletable-chips\n            clearable\n            color=\"blue\"\n            max-height=\"300\"\n          ></v-select>\n          <div class=\"spacing\"></div>\n          <v-switch\n            label=\"Enable advanced options?\"\n            v-model=\"localValues.advEnabled\"\n            color=\"primary\"\n          ></v-switch>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport axios from 'axios'\nimport path from 'path'\n\nimport bindMixin from '@/mixins/bindMixin'\n\nexport default {\n  props: ['values'],\n  mixins: [bindMixin],\n  data() {\n    return {\n      inputColNames: [],\n      outputColNames: [],\n      cols: [],\n    }\n  },\n  computed: {\n    colNames() {\n      return this.cols.map(col => col.header)\n    },\n    inputFile() {\n      if (!this.localValues) {\n        return ''\n      }\n      return this.localValues.inputFile\n    },\n    // Put other stuff here\n    ...mapState({\n      beEndpoint: s => s.beEndpoint,\n      currentProject: s => s.currentProject\n    })\n  },\n  watch: {\n    inputColNames() {\n      this.localValues.inputCols = this.inputColNames.map(colName => ({\n        header: colName,\n        index: this.getColumnIndex(colName)\n      }))\n    },\n    outputColNames() {\n      this.localValues.outputCols = this.outputColNames.map(colName => ({\n        header: colName,\n        index: this.getColumnIndex(colName)\n      }))\n    },\n    inputFile() {\n      this.getColumns()\n    }\n  },\n  created() {\n    this.advEnabledAlias = this.advEnabled\n    this.getColumns()\n  },\n  methods: {\n    getColumnIndex(colName) {\n      return this.cols.filter(col => col.header === colName)[0].index\n    },\n    getColumns() {\n      if (!this.localValues || !this.localValues.inputFile.endsWith('.csv')) {\n        console.log('Input path is not a CSV file')\n        return\n      }\n      console.log(`Sending request to ${this.beEndpoint}/${path.join('projects', this.currentProject, 'files', this.localValues.inputFile)}`)\n      axios({\n        baseURL: this.beEndpoint,\n        url: path.join('projects', this.currentProject, 'files', this.localValues.inputFile) + '/',\n        responseType: 'json',\n        params: {\n          view: 'meta'\n        }\n      })\n      .then(res => {\n        this.localValues.inputFileId = res.data.data.id\n        this.cols = res.data.data.supported_views.tabular.columns\n        .map((col, index) => ({ ...col, index }))\n      })\n      .catch(err => {\n        this.$emit('error')\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n\n#input-flex\n  width: 328px\n  padding: 4px 4px 4px 4px\n\n#input-card\n  width: 320px\n\n.spacing\n  height: 20px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ml/InputFilePanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"input-flex\"}},[_c('v-card',{attrs:{\"id\":\"input-card\"}},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('h3',{staticClass:\"headline\",attrs:{\"id\":\"input-title\"}},[_vm._v(\"Select input file\")])])]),_c('v-card-text',[_c('v-form',[_c('div',[_c('v-text-field',{attrs:{\"name\":\"inputFile\",\"label\":\"Input file\",\"type\":\"text\",\"append-icon\":\"create\",\"append-icon-cb\":function () { return _vm.$emit('fileDialog', 'csv'); }},model:{value:(_vm.localValues.inputFile),callback:function ($$v) {_vm.$set(_vm.localValues, \"inputFile\", $$v)},expression:\"localValues.inputFile\"}})],1),_c('v-select',{attrs:{\"label\":\"Select Input Columns\",\"items\":_vm.colNames,\"multiple\":\"\",\"autocomplete\":\"\",\"chips\":\"\",\"deletable-chips\":\"\",\"clearable\":\"\",\"color\":\"blue\",\"max-height\":\"300\"},model:{value:(_vm.inputColNames),callback:function ($$v) {_vm.inputColNames=$$v},expression:\"inputColNames\"}}),_c('v-select',{attrs:{\"label\":\"Select Output Columns\",\"items\":_vm.colNames,\"multiple\":\"\",\"autocomplete\":\"\",\"chips\":\"\",\"deletable-chips\":\"\",\"clearable\":\"\",\"color\":\"blue\",\"max-height\":\"300\"},model:{value:(_vm.outputColNames),callback:function ($$v) {_vm.outputColNames=$$v},expression:\"outputColNames\"}}),_c('div',{staticClass:\"spacing\"}),_c('v-switch',{attrs:{\"label\":\"Enable advanced options?\",\"color\":\"primary\"},model:{value:(_vm.localValues.advEnabled),callback:function ($$v) {_vm.$set(_vm.localValues, \"advEnabled\", $$v)},expression:\"localValues.advEnabled\"}})],1)],1),_c('v-card-actions')],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-78ba32e4\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ml/InputFilePanel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-78ba32e4\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InputFilePanel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/ryosuke/Documents/JHProject/JHProject-FE/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputFilePanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/ryosuke/Documents/JHProject/JHProject-FE/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputFilePanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-78ba32e4\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InputFilePanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-78ba32e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ml/InputFilePanel.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}